# ====== API KEYS (LOCAL) ======
export JUPITER_API_KEY="b1ac693e-ee12-4faa-8f04-0049f74ec932"
export JUPITER_BASE_URL="https://api.jup.ag"

# ====== MODE / RPC ======
export MODE="REAL"
export RPC_URL="https://api.mainnet-beta.solana.com"

# ====== STRAT ======
export BUY_AMOUNT_SOL="0.02"
export SLIPPAGE_BPS="300"
export BUY_COOLDOWN_SECONDS="0"

# ====== SELECTION BRAIN ======
export MIN_PRICE_CHANGE_5M="6"
export MIN_VOLUME_5M="3000"
export MIN_BUY_SELL_RATIO="1.2"
export MAX_OPEN_POSITIONS="2"

# ====== SCANNER ======
export NEW_LISTING_LIMIT="30"
export GLOBAL_RPS="2.0"
export MAX_CONCURRENCY="1"
export SCAN_INTERVAL_SECONDS="25"

# ====== RISK ======
export MIN_LIQUIDITY_USD="1000"
export MAX_MARKET_CAP_USD="300000"
JUPITER_BASE_URL="https://api.jup.ag"
JUPITER_API_KEY="b1ac693e-ee12-4faa-8f04-0049f74ec932"
STOP_LOSS_PCT=0.15
TRAILING_ACTIVATION_PCT=0.03
TRAILING_FROM_HIGH_PCT=0.05

# --- TAKE PROFITS (simple & efficace) ---
TP1_GAIN_PCT=0.25
TP1_SELL_FRACTION_INITIAL=0.50

TP2_GAIN_PCT=0.60
TP2_SELL_FRACTION_INITIAL=0.25

# --- Jupiter key aliases (anti 'on me redemande la cl√©') ---
JUPITER_KEY="b1ac693e-ee12-4faa-8f04-0049f74ec932"
JUP_API_KEY_HEADER="b1ac693e-ee12-4faa-8f04-0049f74ec932"
JUPITER_KEY_HEADER="b1ac693e-ee12-4faa-8f04-0049f74ec932"

# risk
DEAD_MARKET_NO_TRADES_SECONDS=300
DEAD_MARKET_SELL_PCT=1.0
MIN_LIQUIDITY_USD=15000
MIN_VOLUME_M5_USD=2000
MIN_TXNS_M5_TOTAL=40
MIN_BUYS_M5=15
SCANNER_LIMIT=60
SCANNER_RPS=3.0
SCANNER_CONCURRENCY=2

# --- safer dead market ---
DEAD_MARKET_MIN_HOLD_SECONDS=120
DEAD_MARKET_HITS_NEEDED=3

# cooldown after sell (anti re-buy instant)
BUY_COOLDOWN_AFTER_SELL_SECONDS=900

# =========================================================
# --- Bot Lino aliases (AUTO) ---
# (Ne modifie pas tes variables, ajoute des alias compatibles avec le code)
# =========================================================

# Jupiter base + key (alias)
JUP_BASE="${JUP_BASE:-${JUPITER_BASE_URL:-https://api.jup.ag}}"
JUP_TOKENS_BASE="${JUP_TOKENS_BASE:-${JUP_BASE}/tokens/v2}"

# RPC alias
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL_HTTP:-${RPC_URL_HTTPS:-${RPC_URL:-${RPC_URL:-}}}}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-${RPC_URL:-}}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-}}"

# vrai fallback RPC (simple)
RPC_HTTP="${RPC_HTTP:-${RPC_URL:-https://api.mainnet-beta.solana.com}}"

# Wallet pubkey alias

# Trade sizing alias
TRADER_SOL_AMOUNT="${TRADER_SOL_AMOUNT:-${BUY_AMOUNT_SOL:-0.01}}"
TRADER_SLIPPAGE_BPS="${TRADER_SLIPPAGE_BPS:-${SLIPPAGE_BPS:-120}}"
TRADER_MAX_PRICE_IMPACT_PCT="${TRADER_MAX_PRICE_IMPACT_PCT:-${MAX_PRICE_IMPACT_PCT:-1.5}}"


# === SELL STRATEGY PumpFun ===
SELL_HARD_SL_PCT=0.12

SELL_TP1_PCT=0.25
SELL_TP1_SIZE=0.35

SELL_TP2_PCT=0.50
SELL_TP2_SIZE=0.30

SELL_TRAIL_TIGHT=0.13
SELL_TRAIL_WIDE=0.23

SELL_TIME_STOP_SEC=900
SELL_TIME_STOP_MIN_PNL=0.15

MIN_SOL_BUFFER=0.01

# wallet
WALLET_PUBKEY=9U69xxU9eWRebdQ99FSo2FBwfafQZYjL4DT6ZFLqwmga
TRADER_USER_PUBLIC_KEY=9U69xxU9eWRebdQ99FSo2FBwfafQZYjL4DT6ZFLqwmga

JUP_API_KEY=b1ac693e-ee12-4faa-8f04-0049f74ec932
READY_FILE=ready_to_trade_routable_raydium.jsonl
BUY_AMOUNT_SOL=0.005
STRICT_ONLY=1
TRADER_DRY_RUN=1
ALLOWED_DEXES=raydium,meteora
JUP_BASE_URL=https://lite-api.jup.ag
MIN_SOL_FEE_RESERVE_SOL=0.02
MIN_SOL_RENT_RESERVE_SOL=0.01
MIN_SOL_SELL_RESERVE_SOL=0.01
